--- Smarty-2.6.9/libs/Smarty.class.php	Thu Mar 31 06:41:24 2005
+++ smarty/Smarty.class.php	Sun May  1 00:14:31 2005
@@ -30,7 +30,7 @@
  * @version 2.6.9
  */
 
-/* $Id$ */
+/* $Id$ */
 
 /**
  * DIR_SEP isn't used anymore, but third party apps might
@@ -1100,6 +1100,18 @@
     {
         $this->fetch($resource_name, $cache_id, $compile_id, true);
     }
+    
+    /**
+     * compiles a template without executing it
+     *
+     * @param string $resource_name
+     * @param string $cache_id
+     * @param string $compile_id
+     */
+    function compile($resource_name, $cache_id = null, $compile_id = null)
+    {
+        $this->fetch($resource_name, $cache_id, $compile_id, false, false);
+    }
 
     /**
      * executes & returns or displays the template results
@@ -1109,7 +1121,7 @@
      * @param string $compile_id
      * @param boolean $display
      */
-    function fetch($resource_name, $cache_id = null, $compile_id = null, $display = false)
+    function fetch($resource_name, $cache_id = null, $compile_id = null, $display = false, $execute = true)
     {
         static $_cache_info = array();
         
@@ -1255,7 +1267,7 @@
             if ($this->_is_compiled($resource_name, $_smarty_compile_path)
                     || $this->_compile_resource($resource_name, $_smarty_compile_path))
             {
-                include($_smarty_compile_path);
+            	if ($execute) { include($_smarty_compile_path); }
             }
             $_smarty_results = ob_get_contents();
             ob_end_clean();
